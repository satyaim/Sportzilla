<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Sportzilla</title>
    {% load staticfiles %}
    <link rel="stylesheet" href="{% static 'css/style.css'%}" />
    <link rel="stylesheet" type="text/css" href="{% static 'css/animate.css'%}">
    <script type="text/javascript" src="{% static 'js/wow.min.js'%}"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script type="text/javascript">
        new WOW().init();
    </script>
    <script src="{% static 'js/pleaserotate.min.js'%}"></script>
<script>
  var portrait = window.innerWidth < window.innerHeight;
  var PleaseRotateOptions = {
      onlyMobile: false,
      forcePortrait: !portrait
  }

</script>
</head>
<body>
<!-- Top navigation bar -->
    <div id="top-nav">
        <span onclick="openInstructions()"><img src="{% static 'images/instruct.svg'%}" height="25vh">Instructions</span>
        <span onclick="displayLeaderboard()"><img src="{% static 'images/leader.svg'%}" height="25vh"></img>Leaderboard</span>
        <span>
	    <!-- User Information -->
            <span id="scoreUpdate"><img src="{% static 'images/score.svg'%}" height="25vh"><span id="checkScore">{{score}}</span></span>
            <span id="userUpdate"><img src="{% static 'images/user.svg'%}" height="25vh">{{user}}</span>
        </span>
	
    <span onclick="window.location='logout'"><img src="{% static 'images/logout.svg'%}" height="25vh">Logout</span>
<!-- Player Adam -->
    </div>
    <div id="adam" class="adam"></div>

<!-- Horizon/ Third Layer-->
    <div class="horizon scroll">
        <img src="{% static 'images/horizon.png'%}" alt="" />
    </div>
<!-- Second Layer-->
    <div class="second scroll">
        <img src="{% static 'images/second.png'%}" alt="" />
    </div>
<!-- Front Layer-->
    <div class="front scroll">
        <img src="{% static 'images/front.png'%}" alt="" />

<!-- Stadium one, popup question availability -->
        <div class="quesAvailableDiv wow zoomInDown stad1 popup" id="Available1" data-wow-duration="0.5s">
            <span class="questionAvailable">Football Quiz <br/> Questions are available</span><br/>
            <span class="play" onclick="displayQuiz(0)">Play</span>
            <span class="leave" onclick="dismissPopUp(0)">Leave</span>
        </div>
        <div class="quesNotAvailableDiv wow zoomInDown stad1 popup" id="NotAvailable1" data-wow-duration="0.5s">
            <span class="questionNotAvailable">Football Quiz <br/>Questions are not available</span><br/>
            <span class="leave" onclick="dismissPopUp(0)">Leave</span>
        </div>

<!-- stadium two, popup question availability-->
        <div class="quesAvailableDiv wow zoomInDown stad2 popup" id="Available2" data-wow-duration="0.5s">
            <span class="questionAvailable">Cricket Quiz <br/>Questions are available</span><br/>
            <span class="play" onclick="displayQuiz(1)">Play</span>
            <span class="leave" onclick="dismissPopUp(1)">Leave</span>
        </div>
	 <div class="quesNotAvailableDiv wow zoomInDown stad2 popup" id="NotAvailable2" data-wow-duration="0.5s">
            <span class="questionNotAvailable">Cricket Quiz <br/>Questions are not available</span><br/>
            <span class="leave" onclick="dismissPopUp(1)">Leave</span>
        </div>

<!-- stadium three, popup question availability-->
        <div class="quesAvailableDiv wow zoomInDown stad3 popup" id="Available3" data-wow-duration="0.5s">
            <span class="questionAvailable">Miscellaneous Quiz <br/>Questions are available</span><br/>
            <span class="play" onclick="displayQuiz(2)">Play</span>
            <span class="leave" onclick="dismissPopUp(2)">Leave</span>
        </div>
	 <div class="quesNotAvailableDiv wow zoomInDown stad3 popup" id="NotAvailable3" data-wow-duration="0.5s">
            <span class="questionNotAvailable">Miscellaneous Quiz <br/>Questions are not available</span><br/>
            <span class="leave" onclick="dismissPopUp(2)">Leave</span>
        </div>

<!-- stadium four, popup question availability-->
        <div class="quesAvailableDiv wow zoomInDown stad4 popup" id="Available4" data-wow-duration="0.5s">
            <span class="questionAvailable">Track&Field Quiz <br/>Questions are available</span><br/>
            <span class="play" onclick="displayQuiz(3)">Play</span>
            <span class="leave" onclick="dismissPopUp(3)">Leave</span>
        </div>
	 <div class="quesNotAvailableDiv wow zoomInDown stad4 popup" id="NotAvailable4" data-wow-duration="0.5s">
            <span class="questionNotAvailable">Track&Field Quiz <br/>Questions are not available</span><br/>
            <span class="leave" onclick="dismissPopUp(3)">Leave</span>
        </div>

<!-- stadium five, popup question availability-->
        <div class="quesAvailableDiv wow zoomInDown stad5 popup" id="Available5" data-wow-duration="0.5s">
            <span class="questionAvailable">Extras Quiz <br/>Questions are available</span><br/>
            <span class="play" onclick="displayQuiz(4)">Play</span>
            <span class="leave" onclick="dismissPopUp(4)">Leave</span>
        </div>
	 <div class="quesNotAvailableDiv wow zoomInDown stad5 popup" id="NotAvailable5" data-wow-duration="0.5s">
            <span class="questionNotAvailable">Extras Quiz <br/>Questions are not available</span><br/>
            <span class="leave" onclick="dismissPopUp(4)">Leave</span>
        </div>

<!-- First Quiz -->
        <div class="quiz-sim-Div-1 wow jackInTheBox" id="Quiz1">
            <div class="quiz-sim-Title-1">Football Quiz</div>
            <div class="quiz-sim-Body-1">Ask Questions and Obtain Answers here{{hint}}
	    <img src="{% static 'FirstImage.png'%}" id="imgQuiz1"></div>
        <span id="text"><input type="text" id="ans1"></span>
            <div class="quiz-sim-Footer-1"><span onclick="dismissDiv()" id="button">CLOSE</span>
            <span id="button1"><input type="submit" value="SUBMIT" onclick="SubmitDiv(1)"></span></div></div>
        </div>

<!-- Second Quiz -->
        <div class="quiz-sim-Div-2 wow jackInTheBox" id="Quiz2">
            <div class="quiz-sim-Title-2">Cricket Quiz</div>
            <div class="quiz-sim-Body-2">Ask Questions and Obtain Answers here
            <img src="{% static 'FirstImage.png'%}" id="imgQuiz2"></div>
            <span id="text"><input type="text" id="ans2"></span>
            <div class="quiz-sim-Footer-2"><span onclick="dismissDiv()" id="button">CLOSE</span>
            <span id="button2"><input type="submit" value="SUBMIT" onclick="SubmitDiv(2)"></span></div></div>
        </div>

<!-- Third Quiz -->
        <div class="quiz-sim-Div-3 wow jackInTheBox" id="Quiz3">
            <div class="quiz-sim-Title-3">Miscellaneaous Quiz</div>
            <div class="quiz-sim-Body-3">Ask Questions and Obtain Answers here
                <img src="{% static 'FirstImage.png'" id="imgQuiz3"></div>
            <span id="text"><input type="text" id="ans3"></span>
            <div class="quiz-sim-Footer-3"><span onclick="dismissDiv()" id="button">CLOSE</span>
            <span id="button3"><input type="submit" value="SUBMIT" onclick="SubmitDiv(3)"></span></div></div>
        </div>

<!-- Fourth Quiz -->
        <div class="quiz-sim-Div-4 wow jackInTheBox" id="Quiz4">
            <div class="quiz-sim-Title-4">Track&Field Quiz</div>
            <div class="quiz-sim-Body-4">Ask Questions and Obtain Answers here
            <img src="{% static 'FirstImage.png'%}" id="imgQuiz4"></div>
            <span id="text"><input type="text" id="ans4"></span>
            <div class="quiz-sim-Footer-4"><span onclick="dismissDiv()" id="button">CLOSE</span>
            <span id="button4"><input type="submit" value="SUBMIT" onclick="SubmitDiv(4)"></span></div></div>
        </div>

<!-- Fifth Quiz -->
        <div class="quiz-sim-Div-5 wow jackInTheBox" id="Quiz5">
            <div class="quiz-sim-Title-5">Extras Quiz</div>
            <div class="quiz-sim-Body-5">Ask Questions and Obtain Answers here
            <img src="{% static 'FirstImage.png'%}" id="imgQuiz5"></div>
            <span id="text"><input type="text" id="ans5"></span>
            <div class="quiz-sim-Footer-5"><span onclick="dismissDiv()" id="button">CLOSE</span>
            <span id="button5"><input type="submit" value="SUBMIT" onclick="SubmitDiv(5)"></span></div></div>
        </div>

<!-- Instructons -->
        <div class="ins-sim-Div wow slideInDown" id="instructionsDiv">
            <div class="ins-sim-Title"><img src="{% static 'images/instruct.svg'%}" height="25vh">Instructions</div>
            <div class="ins-sim-Body">Display Instructions</div>
            <div class="ins-sim-Footer"><span onclick="dismissDiv()" id="button">CLOSE</span></div>
        </div>

<!-- Leaderboard -->
        <div class="lead-sim-Div wow slideInDown" id="leaderboardDiv">
            <div class="lead-sim-Title"><img src="{% static 'images/leader.svg'%}" height="25vh"></img>Leaderboard</div>
            <div class="lead-sim-Body" id="leaderboard-body">
		<div id="your-position">
                    <span id="position-text">Your Position</span><!--
                    --><span id="position">{{rank}}/217</span>
                </div>{%for u in leaderboard%} 
                <div class="leaderboard-wrapper"><span class="rank">{{u.rank}}</span><span class="name">{{u.username}}</span><span class="score">{{u.score}}</span></div>{%endfor%}
                <div class="leaderboard-wrapper"><span class="rank">1</span><span class="name">Random</span><span class="score">100</span></div>
                <div class="leaderboard-wrapper"><span class="rank">1</span><span class="name">Random</span><span class="score">100</span></div>
                <div class="leaderboard-wrapper"><span class="rank">1</span><span class="name">Random</span><span class="score">100</span></div>
                <div class="leaderboard-wrapper"><span class="rank">1</span><span class="name">Random</span><span class="score">100</span></div>
                <div class="leaderboard-wrapper"><span class="rank">1</span><span class="name">Random</span><span class="score">100</span></div>
                <div class="leaderboard-wrapper"><span class="rank">1</span><span class="name">Random</span><span class="score">100</span></div>
                <div class="leaderboard-wrapper"><span class="rank">1</span><span class="name">Random</span><span class="score">100</span></div>
                <div class="leaderboard-wrapper"><span class="rank">1</span><span class="name">Random</span><span class="score">100</span></div>
                <div class="leaderboard-wrapper"><span class="rank">1</span><span class="name">Random</span><span class="score">100</span></div>



	    </div>
            <div class="lead-sim-Footer"><span onclick="dismissDiv()" id="button">CLOSE</span></div>
        </div>
    </div>

<!-- scripts -->
    <script type="text/javascript" src="{% static 'js/jquery.min.js'%}"></script>
    <script type="text/javascript" src="{% static 'js/jquery.jInvertScroll.js'%}"></script>
    <script type="text/javascript" src="{% static 'js/script.js'%}"></script>
</body>

<!-- Adam's movement -->
	<script type="text/javascript">
        var adam = $('#adam'),
            pLocs = [0, -184, -368, -552, -736, -920, -1104, -1288],
            currFrm = 0,
            lastStep = 0;

        $(window).scroll(function (event) {
            var scroll = $(window).scrollTop();
            if (scroll > lastStep + 10) {
                adam.css('background-image',' url("/static/images/spritesheet.png")');
                if (currFrm>=7) {
                    currFrm = -1;
                }
                adam.css('background-position', pLocs[++currFrm] + 'px 0px');
                lastStep = scroll;
            } else if (scroll < lastStep - 10) {
                adam.css('background-image',' url("/static/images/image.png")');
                if (currFrm<=0) {
                    currFrm = 8;
                }
                adam.css('background-position', pLocs[--currFrm] + 'px 0px');
                lastStep = scroll;
            }
        });
     </script>
     <script type="text/javascript">
        function SubmitDiv(x)
        {   
            var xmlhttp;var noOfQuestionsLeft;
            var obj;var answer;var score;var imgQuiz;
            score = document.getElementById('checkScore').value;
            if(x==1){
                answer = document.getElementById('ans1').value;
                imgQuiz = document.getElementById('imgQuiz1');
            }
            if(x==2){
                answer = document.getElementById('ans2').value;
                imgQuiz = document.getElementById('imgQuiz2');
            }
            if(x==3){
                answer = document.getElementById('ans3').value;
                imgQuiz = document.getElementById('imgQuiz3');
            }
            if(x==4){
                answer = document.getElementById('ans4').value;
                imgQuiz = document.getElementById('imgQuiz4');
            }
            if(x==5){
                answer = document.getElementById('ans5').value;
                imgQuiz = document.getElementById('imgQuiz5');
            }
            
            var answerof = answer;
            objTosend = JSON.stringify(obj);
        /*if (window.XMLHttpRequest)
        {// code for IE7+, Firefox, Chrome, Opera, Safari
          xmlhttp=new XMLHttpRequest();
        }
        else
        {// code for IE6, IE5
          xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }

        xmlhttp.onreadystatechange = function(){
            if(this.readyState==4 && this.status==200){
                var objRecieved = JSON.parse(this.responseText);
                document.getElementById('checkScore').innerHTML = objRecieved.djangoScore;//the updated score to be sent by bknd
                document.getElementById('imgQuiz').src = objRecieved.djangoImage;//the image from backend to display
                noOfQuestionsLeft = objRecieved.djangoNoofQuestionsLeft;
                if(noOfQuestionsLeft=0)
                {
                    av[x] = 0;
                }
          }
        };
        xmlhttp.open("POST", '/accounts/profile/1/answer/', true);
        xmlhttp.send('answerof='+answer);
    }*/
    /*$.ajax({
        url: '/accounts/profile/1/answer/',
        data: {
          'answerof': answer
        },
        dataType: 'json',
        success: function (data) {
          if(this.readyState==4 && this.status==200){
                var objRecieved = JSON.parse(this.responseText);
                document.getElementById('checkScore').innerHTML = objRecieved.score;//the updated score to be sent by bknd
                document.getElementById('imgQuiz').src = objRecieved.qs.question_img;//the image from backend to display
                noOfQuestionsLeft = objRecieved.djangoNoofQuestionsLeft;
                if(noOfQuestionsLeft=0)
                {
                    av[x] = 0;
                }
        }
      }
  });*/
    $.ajax({
            url : "accounts/profile/1/answer/", 
            type: "POST",
            data: {"answerof":answer},
            dataType: 'json',               
            // handle a successful response
            alert("error");
            success : function(jsondata) {  
                var objRecieved = jQuery.parseJSON(JSON.strigify(jsondata));
                document.getElementById('checkScore').innerHTML = objRecieved.score;
                imgQuiz.src = objRecieved.img;//the image from backend to display
                noOfQuestionsLeft = objRecieved.djangoNoofQuestionsLeft;
                if(noOfQuestionsLeft=0)
                {
                    av[x] = 0;
                }
                },

                    // handle a non-successful response
                error : function() {
                    console.log("Error"); // provide a bit more info about the error to the console
                }
        });
   
    }

    </script>
</html>
<!--just name the key properties of the json object as djangoScore and djangoImage..if changed, make the changes above as well-->